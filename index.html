
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FlowMatrix AI</title>
    <meta name="description" content="FlowMatrix AI - Advanced AI Solutions" />
    <meta name="author" content="FlowMatrix AI" />
    
    <link rel="icon" href="/lovable-uploads/54fa5058-0927-424f-859e-4a5ec240c3f1.png" type="image/png">

    <meta property="og:title" content="FlowMatrix AI" />
    <meta property="og:description" content="FlowMatrix AI - Advanced AI Solutions" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/lovable-uploads/be2df81d-7799-4867-a793-77b85560b836.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@flowmatrix_ai" />
    <meta name="twitter:image" content="/lovable-uploads/be2df81d-7799-4867-a793-77b85560b836.png" />
    
    <!-- Vapi Voice Assistant SDK -->
    <script src="https://unpkg.com/@vapi-ai/web@latest/dist/index.umd.js"></script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Vapi Voice Button -->
    <div id="vapi-voice-button" style="
      position: fixed;
      bottom: 20px;
      left: 20px;
      width: 60px;
      height: 60px;
      background: #3b82f6;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 24px;
      cursor: pointer;
      z-index: 9999;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      transition: all 0.2s ease;
    ">
      üé§
    </div>
    
    <script>
      let vapi = null;
      let isCallActive = false;
      
      // Initialize Vapi when page loads
      document.addEventListener('DOMContentLoaded', function() {
        console.log('Initializing Vapi...');
        
        // Initialize Vapi instance
        vapi = new window.Vapi("100ff321-ef4d-444e-ac64-82980354d406");
        
        const button = document.getElementById('vapi-voice-button');
        
        // Add hover effects
        button.addEventListener('mouseenter', function() {
          this.style.transform = 'scale(1.1)';
          this.style.background = '#2563eb';
        });
        
        button.addEventListener('mouseleave', function() {
          this.style.transform = 'scale(1)';
          this.style.background = isCallActive ? '#ef4444' : '#3b82f6';
        });
        
        // Handle button click
        button.addEventListener('click', function() {
          if (isCallActive) {
            stopCall();
          } else {
            startCall();
          }
        });
        
        // Vapi event listeners
        vapi.on('call-start', function() {
          console.log('Voice call started');
          isCallActive = true;
          button.innerHTML = '‚èπÔ∏è';
          button.style.background = '#ef4444';
          button.title = 'Stop voice call';
        });
        
        vapi.on('call-end', function() {
          console.log('Voice call ended');
          isCallActive = false;
          button.innerHTML = 'üé§';
          button.style.background = '#3b82f6';
          button.title = 'Start voice call';
        });
        
        vapi.on('error', function(error) {
          console.error('Vapi error:', error);
          isCallActive = false;
          button.innerHTML = 'üé§';
          button.style.background = '#3b82f6';
          button.title = 'Start voice call';
        });
        
        // Set initial button title
        button.title = 'Start voice call';
      });
      
      function startCall() {
        console.log('Starting voice call...');
        vapi.start({
          assistantId: "a10c3748-397d-4d16-b217-19faf4192046",
          // Voice configuration
          voice: {
            provider: "11labs",
            voiceId: "sarah"
          }
        });
      }
      
      function stopCall() {
        console.log('Stopping voice call...');
        vapi.stop();
      }
    </script>
  </body>
</html>
